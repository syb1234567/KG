<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <title>插件 - 中医知识图谱应用</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <style>
        body { background-color: #f8f9fa; font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; }
        .navbar-brand { font-weight: bold; }
        .container { margin-top: 80px; }
        footer {
            background-color: #343a40;
            color: #fff;
            padding: 20px 0;
            text-align: center;
            position: fixed;
            width: 100%;
            bottom: 0;
        }
        .plugin-card {
            border: 1px solid #ccc;
            border-radius: 5px;
            padding: 15px;
            margin-bottom: 15px;
            background: #fff;
        }
        .plugin-card h5 {
            margin-top: 0;
        }
        .plugin-card p {
            margin-bottom: 0.5rem;
        }
        .plugin-card .btn {
            margin-right: 10px;
        }
    </style>
</head>
<body>
<nav class="navbar navbar-expand-lg navbar-dark bg-dark fixed-top">
    <div class="container-fluid">
        <a class="navbar-brand" href="/">中医知识图谱应用</a>
        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav"
            aria-controls="navbarNav" aria-expanded="false" aria-label="切换导航">
            <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarNav">
            <ul class="navbar-nav ms-auto">
                <li class="nav-item"><a class="nav-link" href="/">主页</a></li>
                <li class="nav-item"><a class="nav-link active" aria-current="page" href="/plugins">插件</a></li>
                <li class="nav-item"><a class="nav-link" href="/graph">图谱</a></li>
                <li class="nav-item"><a class="nav-link" href="/import">导入数据</a></li>
            </ul>
        </div>
    </div>
</nav>

<div class="container">
    <div class="py-5 text-center">
        <h1><span class="highlight">插件管理</span></h1>
        <p class="lead">查看和管理已加载的插件，为您的知识图谱提供额外功能。</p>
    </div>
    <div id="plugin-list" class="row">
        <!-- 动态加载插件列表 -->
    </div>
</div>

<footer>
    <div class="container">
        <p>中医知识图谱应用, 版权所有 &copy; 2024</p>
    </div>
</footer>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
<script>
document.addEventListener('DOMContentLoaded', function() {
    fetch('/plugins')
        .then(response => response.json())
        .then(data => {
            var pluginList = document.getElementById('plugin-list');
            pluginList.innerHTML = '';
            data.plugins.forEach(plugin => {
                var col = document.createElement('div');
                col.className = 'col-md-4';
                col.innerHTML = `
                    <div class="plugin-card">
                        <h5>${plugin}</h5>
                        <p>插件描述内容，说明该插件的功能用途。</p>
                        <!-- 为每个插件提供操作按钮 -->
                        <button class="btn btn-primary" onclick="runPlugin('${plugin}')">运行</button>
                        <button class="btn btn-secondary" onclick="viewPluginDetails('${plugin}')">详情</button>
                    </div>
                `;
                pluginList.appendChild(col);
            });
        })
        .catch(err => console.error("加载插件列表出错:", err));
});

function runPlugin(pluginName) {
    alert("运行插件：" + pluginName + " 功能尚未实现，请根据需要扩展后端逻辑。");
}

function viewPluginDetails(pluginName) {
    alert("查看插件详情：" + pluginName + " 功能尚未实现，请根据需要扩展后端逻辑。");
}
</script>
</body>
</html>
